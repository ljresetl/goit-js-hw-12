import{a as $,S as P,i as s}from"./assets/vendor-5YrzWRhu.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const y of a.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&i(y)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();const B="https://pixabay.com/api/",I="51734453-5d46674fc0c6d7944706aca6e";async function L(e,t=1,r=15){try{return(await $.get(B,{params:{key:I,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:r}})).data}catch(i){throw console.error("Error fetching images:",i),i}}const v=document.querySelector(".gallery"),S=document.querySelector(".loader"),p=document.querySelector(".load-more"),M=new P(".gallery a",{captionsData:"alt",captionDelay:250});let d=1;const w=12;function g(e){const t=e.map(r=>`
    <a href="${r.largeImageURL}" class="gallery-item">
      <div class="photo-card">
        <img class="photo-card-img" src="${r.webformatURL}" alt="${r.tags}" loading="lazy" />
        <ul class="info">
          <li><b>Likes:</b> ${r.likes}</li>
          <li><b>Views:</b> ${r.views}</li>
          <li><b>Comments:</b> ${r.comments}</li>
          <li><b>Downloads:</b> ${r.downloads}</li>
        </ul>
      </div>
    </a>
  `).join("");v.insertAdjacentHTML("beforeend",t),M.refresh()}function q(){v.innerHTML=""}function b(){S.classList.add("visible")}function u(){S.classList.remove("visible")}function h(){p.classList.remove("hidden")}function c(){p.classList.add("hidden")}function T(e){return new Promise(t=>setTimeout(t,e))}async function E(e=1){b(),c();try{const r=await(await fetch(`https://pixabay.com/api/?key=51734453-5d46674fc0c6d7944706aca6e&q=flowers&page=${e}&per_page=${w}`)).json();return await T(5e3),r.hits}catch(t){return console.error(t),[]}finally{u()}}async function x(){q(),d=1;const e=await E(d);g(e),e.length===w&&h()}async function O(){d+=1;const e=await E(d);g(e),e.length<w?c():h()}p.addEventListener("click",O);x();const C=document.querySelector(".form"),H=document.querySelector(".load-more");let f="",n=1;const m=15;let l=0;async function _(e=!1){e&&(n=1,q()),b(),c();try{const t=await L(f,n,m);if(t.hits.length===0){s.error({title:"Error",message:"No images found. Try another query."}),u();return}l=t.totalHits,g(t.hits),l>n*m?h():(c(),s.info({title:"Info",message:"We're sorry, but you've reached the end of search results."})),n===1&&s.success({title:"Success",message:`Found ${l} images.`})}catch(t){console.error(t),s.error({title:"Error",message:"Something went wrong. Try again later."})}finally{u()}}C.addEventListener("submit",async e=>{if(e.preventDefault(),f=e.currentTarget.elements["search-text"].value.trim(),!f){s.warning({title:"Warning",message:"Please enter a search query!"});return}await _(!0)});H.addEventListener("click",async()=>{n+=1,b(),c();try{const e=await L(f,n,m);g(e.hits);const t=document.querySelector(".gallery");if(t.firstElementChild){const{height:r}=t.firstElementChild.getBoundingClientRect();window.scrollBy({top:r*2,behavior:"smooth"})}l>n*m?h():(c(),s.info({title:"Info",message:"We're sorry, but you've reached the end of search results."}))}catch(e){console.error(e),s.error({title:"Error",message:"Something went wrong. Try again later."})}finally{u()}});
//# sourceMappingURL=index.js.map
